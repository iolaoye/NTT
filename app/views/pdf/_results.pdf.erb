<% @descriptions = Description.all %>
<% @results1 = Result.where(:field_id => session[:field_id], :scenario_id => @result_scenario1, :soil_id => @soil) unless @result_scenario1 == "" %>
<% @results2 = Result.where(:field_id => session[:field_id], :scenario_id => @result_scenario2, :soil_id => @soil) unless @result_scenario2 == "" %>
<% @results3 = Result.where(:field_id => session[:field_id], :scenario_id => @result_scenario3, :soil_id => @soil) unless @result_scenario3 == "" %>

<div class="group_header first_group"><%=t('pdf.annual_results')%></div>
<table class="table_fill">
    <thead>
        <tr>
            <th class="table_head"><%=t('pdf.description')%></th>
            <th class="table_head">1st <%=t('pdf.scenario')%></th>
            <th class="table_head">2nd <%=t('pdf.scenario')%></th>
            <th class="table_head"><%=t('pdf.difference')%></th>
            <th class="table_head"><%=t('pdf.reduction')%> (%)</th>
            <th class="table_head"><%=t('pdf.total_area')%></th>
        </tr>
    </thead>
    <tbody>
        <% i = 1 %>
        <% if @results1 != nil %>
            <% @results1.each do |result| %>
                <% if I18n.locale.eql?(:en) %>
                    <% value2 = 0 %>
                    <% if @results2 != nil then %> <%value2 = @results2.find_by_description_id(result.description_id).value %> <% end %>
                    <% difference1 = value2 - result.value %>
                    <% reduction1 = difference1 / result.value * 100 %>
                    <% total_area1 = difference1 * @total_area%>          
                    <% value3 = 0 %>
                    <% if @results3 != nil %> <%value3 = @results3.find_by_description_id(result.description_id).value %> <% end %>
                    <% difference2 = value3- result.value%>
                    <% reduction2 = difference2 / result.value * 100%>
                    <% total_area2 = difference2 * @total_area%>
                    <% if (i % 2 == 0) then %>
                        <% if (result.description_id % 10 == 0) %>
                            <tr class="table_row_even">
                            <% if result.description_id == 70 %>
                                <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                            <% else %>
                                <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row text bold"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil %>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% else %>
                            <tr class="table_row_even">
                            <% if result.description_id > 70 && result.description_id < 90 %>
                                <td class="row number"><%= Crop.find(result.crop_id).name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                            <% else %>
                                <td class="row number"><%= Description.find(result.description_id).description %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row number"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row number"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil%>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% end %>
                    <% else %>
                        <% if (result.description_id % 10 == 0) %>
                            <tr class="table_row_odd">
                            <% if result.description_id == 70 %>
                                <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                            <% else %>
                                <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row text bold"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil%>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% else %>
                            <tr class="table_row_odd">
                            <% if result.description_id > 70 && result.description_id < 90 %>
                                <td class="row number"><%= Crop.find(result.crop_id).name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                            <% else %>
                                <td class="row number"><%= Description.find(result.description_id).description %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row number"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row number"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil &&%>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% end %>
                    <% end %>
                <% else %> <!-- SPANISH -->
                    <% value2 = 0 %>
                    <% if @results2 != nil then %> <%value2 = @results2.find_by_description_id(result.description_id).value %> <% end %>
                    <% difference1 = value2 - result.value %>
                    <% reduction1 = difference1 / result.value * 100 %>
                    <% total_area1 = difference1 * @total_area%>          
                    <% value3 = 0 %>
                    <% if @results3 != nil %> <%value3 = @results3.find_by_description_id(result.description_id).value %> <% end %>
                    <% difference2 = value3- result.value%>
                    <% reduction2 = difference2 / result.value * 100%>
                    <% total_area2 = difference2 * @total_area%>
                    <% if (i % 2 == 0) then %>
                        <% if (result.description_id % 10 == 0) %>
                            <tr class="table_row_even">
                            <% if result.description_id == 70 %>
                                <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                            <% else %>
                                <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row text bold"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil %>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% else %>
                            <tr class="table_row_even">
                            <% if result.description_id > 70 && result.description_id < 90 %>
                                <td class="row number"><%= Crop.find(result.crop_id).spanish_name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                            <% else %>
                                <td class="row number"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row number"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row number"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil%>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% end %>
                    <% else %>
                        <% if (result.description_id % 10 == 0) %>
                            <tr class="table_row_odd">
                            <% if result.description_id == 70 %>
                                <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                                <td class="row text bold"><%= %></td>
                            <% else %>
                                <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row text bold"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil%>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% else %>
                            <tr class="table_row_odd">
                            <% if result.description_id > 70 && result.description_id < 90 %>
                                <td class="row number"><%= Crop.find(result.crop_id).spanish_name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                                <td class="row number"><%= %></td>
                            <% else %>
                                <td class="row number"><%= Description.find(result.description_id).spanish_description %></td>
                                <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                <% if @results2 != nil %>
                                    <td class="row number"><%= sprintf("%8.2f", value2).to_s + "  ±" + sprintf("%8.2f", @results2.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                    <td class="row number"><%= sprintf("%8.2f", difference1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", reduction1) %></td>
                                    <td class="row number"><%= sprintf("%8.2f", total_area1) %></td>
                                <% end %>
                                <% if @results2 == nil &&%>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% end %>
                            <% end %>
                            </tr>
                        <% end %>
                    <% end %>
                <% end %>
                <% i = i + 1 %>
            <% end %>
        <% end %>
    </tbody>
</table>

<div class="page-break"></div>

<% if @results3 != nil %>
    <table class="table_fill">
        <thead>
            <tr>
                <th class="table_head"><%=t('pdf.description')%></th>
                <th class="table_head">1st <%=t('pdf.scenario')%></th>
                <th class="table_head">3rd <%=t('pdf.scenario')%></th>
                <th class="table_head"><%=t('pdf.difference')%></th>
                <th class="table_head"><%=t('pdf.reduction')%> (%)</th>
                <th class="table_head"><%=t('pdf.total_area')%></th>
            </tr>
        </thead>
        <tbody>
            <% i = 1 %>
            <% if @results1 != nil %>
                <% @results1.each do |result| %>
                    <% if I18n.locale.eql?(:en) %>
                        <% value2 = 0 %>
                        <% if @results2 != nil then %> <%value2 = @results2.find_by_description_id(result.description_id).value %> <% end %>
                        <% difference1 = value2 - result.value %>
                        <% reduction1 = difference1 / result.value * 100 %>
                        <% total_area1 = difference1 * @total_area%>          
                        <% value3 = 0 %>
                        <% if @results3 != nil %> <%value3 = @results3.find_by_description_id(result.description_id).value %> <% end %>
                        <% difference2 = value3- result.value%>
                        <% reduction2 = difference2 / result.value * 100%>
                        <% total_area2 = difference2 * @total_area%>
                        <% if (i % 2 == 0) then %>
                            <% if (result.description_id % 10 == 0) %>
                                <tr class="table_row_even">
                                <% if result.description_id == 70 %>
                                    <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% else %>
                                    <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row text bold"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil %>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% else %>
                                <tr class="table_row_even">
                                <% if result.description_id > 70 && result.description_id < 90 %>
                                    <td class="row number"><%= Crop.find(result.crop_id).name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% else %>
                                    <td class="row number"><%= Description.find(result.description_id).description %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row number"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row number"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil%>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% end %>
                        <% else %>
                            <% if (result.description_id % 10 == 0) %>
                                <tr class="table_row_odd">
                                <% if result.description_id == 70 %>
                                    <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% else %>
                                    <td class="row text bold"><%= Description.find(result.description_id).description %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row text bold"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil%>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% else %>
                                <tr class="table_row_odd">
                                <% if result.description_id > 70 && result.description_id < 90 %>
                                    <td class="row number"><%= Crop.find(result.crop_id).name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% else %>
                                    <td class="row number"><%= Description.find(result.description_id).description %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row number"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row number"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil &&%>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% end %>
                        <% end %>
                    <% else %> <!-- SPANISH -->
                        <% value2 = 0 %>
                        <% if @results2 != nil then %> <%value2 = @results2.find_by_description_id(result.description_id).value %> <% end %>
                        <% difference1 = value2 - result.value %>
                        <% reduction1 = difference1 / result.value * 100 %>
                        <% total_area1 = difference1 * @total_area%>          
                        <% value3 = 0 %>
                        <% if @results3 != nil %> <%value3 = @results3.find_by_description_id(result.description_id).value %> <% end %>
                        <% difference2 = value3- result.value%>
                        <% reduction2 = difference2 / result.value * 100%>
                        <% total_area2 = difference2 * @total_area%>
                        <% if (i % 2 == 0) then %>
                            <% if (result.description_id % 10 == 0) %>
                                <tr class="table_row_even">
                                <% if result.description_id == 70 %>
                                    <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% else %>
                                    <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row text bold"><%= sprintf("%8.2f", value23).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil %>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% else %>
                                <tr class="table_row_even">
                                <% if result.description_id > 70 && result.description_id < 90 %>
                                    <td class="row number"><%= Crop.find(result.crop_id).spanish_name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% else %>
                                    <td class="row number"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row number"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row number"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil%>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% end %>
                        <% else %>
                            <% if (result.description_id % 10 == 0) %>
                                <tr class="table_row_odd">
                                <% if result.description_id == 70 %>
                                    <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                    <td class="row text bold"><%= %></td>
                                <% else %>
                                    <td class="row text bold"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row text bold"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row text bold"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row text bold"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil%>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                        <td class="row text bold"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% else %>
                                <tr class="table_row_odd">
                                <% if result.description_id > 70 && result.description_id < 90 %>
                                    <td class="row number"><%= Crop.find(result.crop_id).spanish_name + "(" + Crop.find(result.crop_id).yield_unit + ")" %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                    <td class="row number"><%= %></td>
                                <% else %>
                                    <td class="row number"><%= Description.find(result.description_id).spanish_description %></td>
                                    <td class="row number"><%= sprintf("%8.2f", result.value).to_s + "  ±" + sprintf("%8.2f", result.ci_value).to_s %></td>
                                    <% if @results3 != nil %>
                                        <td class="row number"><%= sprintf("%8.2f", value3).to_s + "  ±" + sprintf("%8.2f", @results3.find_by_description_id(result.description_id).ci_value).to_s %></td>
                                        <td class="row number"><%= sprintf("%8.2f", difference2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", reduction2) %></td>
                                        <td class="row number"><%= sprintf("%8.2f", total_area2) %></td>
                                    <% end %>
                                    <% if @results3 == nil &&%>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                        <td class="row number"><%= %></td>
                                    <% end %>
                                <% end %>
                                </tr>
                            <% end %>
                        <% end %>
                    <% end %>
                    <% i = i + 1 %>
                <% end %>
            <% end %>
        </tbody>
    </table>
<% end %>