  <%= form_for(@bmp) do |f| %>
  <% if @bmp.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@bmp.errors.count, "error") %> prohibited this bmp from being saved:</h2>

      <ul>
      <% @bmp.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
     <%= label :bmp_id, t('bmp.bmp_group') %>
     <%= collection_select :bmp, :bmp_id, Bmplist.all, :id, :name, {:prompt => t('bmp.select_bmp')}, {:required => false} %>
     <%= label :bmp_id, t('operation.bmp') %>
     <%= collection_select :bmp, :bmpsublist_id, Bmpsublist.where(:bmplist_id => @bmp.bmp_id), :id, :name, {:required => false, :selected => @bmp.bmpsublist_id, :prompt => t('bmp.select_bmp') } %>
  </div>
  <div class="field" id="irrigation" style="display:none">
    <% if (:bmpsublist_id == 2) %>
      <p>TRUE<%= :bmpsublist_id %></p>
      <%= label :irrigation_id, 'Irrigation' %>
      <%= collection_select :bmp, :irrigation_id, Irrigation.where(:id != 8), :id, :name, {:prompt => 'Select Irrigation Type'}, {:required => true} %>
    <% else %>
      <p>FALSE<%= :bmpsublist_id %></p>
      <%= label :irrigation_id, 'Irrigation' %>
      <%= collection_select :bmp, :irrigation_id, Irrigation.all, :id, :name, {:prompt => 'Select Irrigation Type'}, {:required => true} %>
    <% end %>
  </div>
  <div class="field" id="crop"  style="display:none">
    <%= label :crop_id, 'Crop' %>
    <%= collection_select :bmp, :crop_id, Crop.all, :id, :name, {:prompt => 'Select Vegetation'}, {:required => true} %>
  </div>
  <div class="field" id = "water_stress_factor" style="display:none">
    <%= f.label :water_stress_factor %> (0.00 – 1.00)<br />
    <%= f.number_field :water_stress_factor, :step => 'any' %>
  </div>
  <div class="field" id = "irrigation_efficiency" style="display:none">
    <%= f.label :irrigation_efficiency %> (0.00 – 1.00)<br />
    <%= f.number_field :irrigation_efficiency, :step => 'any' %>
  </div>
  <div class="field" id="maximum_single_application" style="display:none">
    <%= f.label :maximum_single_application %> (0.00 – 99999.00)<br />
    <%= f.number_field :maximum_single_application, :step => 'any' %> inches
  </div>
  <div class="field" id="safety_factor" style="display:none">
    <%= f.label :safety_factor %>  (0.00 – 99999.00)<br />
    <%= f.number_field :safety_factor, :step => 'any' %>
  </div>
  <div class="field" id="depth" style="display:none">
    <%= f.label :depth %> ft<br />
    <%= f.number_field :depth, :step => 'any' %> ft
  </div>
  <div class="field" id="area" style="display:none">
    <%= f.label :reservoir_area %> (0.00 – 99999.00)<br />
    <%= f.number_field :area, :step => 'any' %> acres
  </div>
  <div class="field" id="animals" style="display:none">
    <%= label :animal_id, 'Animals' %>
    <%= collection_select :bmp, :animal_id, @animals, :id, :name, {:prompt => 'Select Animal Type', :selected => @bmp.animal_id}, {:required => true} %>
  </div>
  <div class="field" id="number_of_animals" style="display:none">
    <%= f.label :number_of_animals %><br />
    <%= f.number_field :number_of_animals %>
  </div>
  <div class="field" id = "days" style="display:none">
    <%= f.label :irrigation_frequency %> (Days: 0.00 – 365)<br />
    <%= f.number_field :days, :step => 'any' %>
  </div>
  <div class="field" id="hours" style="display:none">
    <%= f.label :hours %><br />
    <%= f.number_field :hours, :step => 'any' %>
  </div>
  <div class="field" id="dry_manure" style="display:none">
    <%= f.label :dry_manure %> lbs per day<br />
    <%= f.number_field :dry_manure, :step => 'any' %> lbs
  </div>
  <div class="field" id="no3_n" style="display:none">
    <%= f.label :no3_n %><br />
    <%= f.number_field :no3_n, :step => 'any' %>
  </div>
  <div class="field" id="po4_p" style="display:none">
    <%= f.label :po4_p %><br />
    <%= f.number_field :po4_p, :step => 'any' %>
  </div>
  <div class="field" id="org_n" style="display:none">
    <%= f.label :org_n %><br />
    <%= f.number_field :org_n, :step => 'any' %>
  </div>
  <div class="field" id="org_p" style="display:none">
    <%= f.label :org_p %><br />
    <%= f.number_field :org_p, :step => 'any' %>
  </div>
  <div class="field" id="width" style="display:none">
    <%= f.label :width %> ft<br />
    <%= f.number_field :width, :step => 'any' %> ft
  </div>
  <div class="field" id="grass_field_portion" style="display:none">
    <%= f.label :grass_field_portion %> (0.25 - 0.75)<br />
    <%= f.number_field :grass_field_portion, :step => 'any' %>
  </div>
  <div class="field" id="buffer_slope_upland" style="display:none">
    <%= f.label :slope_ratio %> (0.25 - 1.00)<br />
    <%= f.number_field :buffer_slope_upland, :step => 'any' %>
  </div>
  <div class="field" id="crop_width" style="display:none">
    <%= f.label :crop_width %> ft<br />
    <%= f.number_field :crop_width, :step => 'any' %> ft
  </div>
  <div class="field" id="slope_reduction" style="display:none">
    <%= f.label :slope_reduction %> %<br />
    <%= f.number_field :slope_reduction, :step => 'any' %>
  </div>
  <div class="field" id="sides" style="display:none">
    <%= f.label :sides%><br />
    <%= f.number_field :sides, :step => 'any' %>
  </div>
  <div class="field" id="no_input" style="display:none">
    <%= "This BMP does not require any input" %>
  </div>
  <div class="field" id="climate_table" style="display:none">
	<table>
	    <tr><th>Month</th><th>Max. Temp.</th><th>Min. Temp.</th><th>Precipitation</th></tr>
		<tr><td>1</td><td><%= number_field :max_1, :step => 'any' %></td><td><%= number_field :min_1, :step => 'any' %></td><td><%= number_field :pcp_1, :step => 'any' %></td></tr>
		<tr><td>2</td><td><%= number_field :max_2, :step => 'any' %></td><td><%= number_field :min_2, :step => 'any' %></td><td><%= number_field :pcp_2, :step => 'any' %></td></tr>
		<tr><td>3</td><td><%= number_field :max_3, :step => 'any' %></td><td><%= number_field :min_3, :step => 'any' %></td><td><%= number_field :pcp_3, :step => 'any' %></td></tr>
		<tr><td>4</td><td><%= number_field :max_4, :step => 'any' %></td><td><%= number_field :min_4, :step => 'any' %></td><td><%= number_field :pcp_4, :step => 'any' %></td></tr>
		<tr><td>5</td><td><%= number_field :max_5, :step => 'any' %></td><td><%= number_field :min_5, :step => 'any' %></td><td><%= number_field :pcp_5, :step => 'any' %></td></tr>
		<tr><td>6</td><td><%= number_field :max_6, :step => 'any' %></td><td><%= number_field :min_6, :step => 'any' %></td><td><%= number_field :pcp_6, :step => 'any' %></td></tr>
		<tr><td>7</td><td><%= number_field :max_7, :step => 'any' %></td><td><%= number_field :min_7, :step => 'any' %></td><td><%= number_field :pcp_7, :step => 'any' %></td></tr>
		<tr><td>8</td><td><%= number_field :max_8, :step => 'any' %></td><td><%= number_field :min_8, :step => 'any' %></td><td><%= number_field :pcp_8, :step => 'any' %></td></tr>
		<tr><td>9</td><td><%= number_field :max_9, :step => 'any' %></td><td><%= number_field :min_9, :step => 'any' %></td><td><%= number_field :pcp_9, :step => 'any' %></td></tr>
		<tr><td>10</td><td><%= number_field :max_11, :step => 'any' %></td><td><%= number_field :min_10, :step => 'any' %></td><td><%= number_field :pcp_10, :step => 'any' %></td></tr>
		<tr><td>11</td><td><%= number_field :max_11, :step => 'any' %></td><td><%= number_field :min_11, :step => 'any' %></td><td><%= number_field :pcp_11, :step => 'any' %></td></tr>
		<tr><td>12</td><td><%= number_field :max_12, :step => 'any' %></td><td><%= number_field :min_12, :step => 'any' %></td><td><%= number_field :pcp_12, :step => 'any' %></td></tr>
	</table>
  </div>
  <div class="actions">
    <%= f.submit t('bmp.create_bmp') %>
  </div>

<% end %>

<!--
<script>

document.addEventListener('DOMContentLoaded', function(){ 
    showFields();
}, false);


function showFields() {
  var irrigation = document.getElementById("bmp_irrigation_id").value;
  var bmpsublist_id = document.getElementById("bmp_bmpsublist_id").value;
  if(bmpsublist_id == 1 && bmpsublist_id == 2) {
    document.getElementById("safety_factor").style.display = "none";
  } else {
    if(irrigation == 7) {
      document.getElementById("safety_factor").style.display = "block";
      document.getElementById("area").style.display = "none";
    } else if(irrigation == 8) {
      document.getElementById("safety_factor").style.display = "none";
      document.getElementById("area").style.display = "block";
    } else {
      var bmplist_id = document.getElementById("bmp_bmp_id").value;
    if(bmplist_id == 1) {
      document.getElementById("safety_factor").style.display = "none";
      document.getElementById("area").style.display = "none";
      }
    }
  }
}

</script> -->